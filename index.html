<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="shortcut icon" href="favicon.ico">
    <!-- iosのアイコン設定 -->
    <link rel="apple-touch-icon" href="images/icon.jpg" sizes="192x192"/>
    
    <!-- iosのスプラッシュ画面設定 -->
    <link rel="apple-touch-startup-image" href="images/launch-640x1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="images/launch-750x1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="images/launch-1242x2208.jpg" media="(device-width: 414x) and (device-height: 736x) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="images/launch-1125x2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="images/launch-828x1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="images/launch-1242x2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">

    <!-- PWAのmanifest.json -->
    <link rel="manifest" href="manifest.json">

    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="wrapper">
        <div id="countDisplay" class="count-display">0</div>
        <div class="btns">
            <button id="countDown" class="btn">減らす</button>
            <button id="countUp" class="btn">増やす</button>
        </div>
        <button id="countReset"  class="reset">リセット</button>
    </div>
    
<!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-app.js"></script>

    <!-- Add additional services that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-functions.js"></script>
    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyDrA-FsMwEKYBHdGZdhOe4Fwpxvbq6_smY",
        authDomain: "pwa-sample-2e748.firebaseapp.com",
        databaseURL: "https://pwa-sample-2e748.firebaseio.com",
        projectId: "pwa-sample-2e748",
        storageBucket: "pwa-sample-2e748.appspot.com",
        messagingSenderId: "378984511996",
        appId: "1:378984511996:web:6ebb2ce19fe7ee17"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
        
      // メッセージング オブジェクトの取得
      const messaging = firebase.messaging();
        
      // アプリにウェブ認証情報を設定する
      messaging.usePublicVapidKey("BG5jYiYDtrNtvBFi0Jvxq3oX8Cg9Jg0dSeCKwiDXMlgzJ7IEvDL8WTacdrJ1uNmMzk6NYFUQajWrqufLx1Vd7lU");
    // 通知を受信する権限を要求する
    messaging.requestPermission().then(function() {
        // 現在の登録トークンの取得
        messaging.getToken().then(function(token) {
            console.log(token);
        }).catch(function(err) {
            console.log('トークンの取得に失敗しました（' + err + '）。');
        });
    }).catch(function(err) {
        console.log('通知の許可が得られませんでした（' + err + '）。');
    });
    </script>
    <script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('js/serviceworker.js').then(function(registration) {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }).catch(function(err) {
            console.log('ServiceWorker registration failed: ', err);
        });
    }
//     Notification.requestPermission(function(state) {
//         if (state === 'granted') {
//             console.log("通知を許可しました！");
//         }
//     });
    </script>
    <script src="js/count.js"></script>
</body>
</html>
